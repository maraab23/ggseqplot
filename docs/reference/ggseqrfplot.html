<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Function for rendering sequence index plots with ggplot2
instead of base R's plot function that is used by
TraMineR::seqrfplot. Note that ggseqrfplot
uses patchwork to combine the different components of
the plot. The function and the documentation draw heavily from
TraMineR::seqrf."><title>Relative Frequency Sequence Plot — ggseqrfplot • ggseqplot</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Poppins-0.4.7/font.css" rel="stylesheet"><link href="../deps/Fira_Code-0.4.7/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Relative Frequency Sequence Plot — ggseqrfplot"><meta property="og:description" content="Function for rendering sequence index plots with ggplot2
instead of base R's plot function that is used by
TraMineR::seqrfplot. Note that ggseqrfplot
uses patchwork to combine the different components of
the plot. The function and the documentation draw heavily from
TraMineR::seqrf."><meta property="og:image" content="https://maraab23.github.io/ggseqplot/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ggseqplot</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.8.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/ggseqplot.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/RaabM" aria-label="Twitter">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/maraab23/ggseqplot/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Relative Frequency Sequence Plot</h1>
      <small class="dont-index">Source: <a href="https://github.com/maraab23/ggseqplot/blob/HEAD/R/ggseqrfplot.R" class="external-link"><code>R/ggseqrfplot.R</code></a></small>
      <div class="d-none name"><code>ggseqrfplot.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Function for rendering sequence index plots with <code><a href="https://ggplot2.tidyverse.org/reference/ggplot2-package.html" class="external-link">ggplot2</a></code>
instead of base R's <code><a href="https://rdrr.io/r/base/plot.html" class="external-link">plot</a></code> function that is used by
<code><a href="https://rdrr.io/pkg/TraMineR/man/seqplot.html" class="external-link">TraMineR::seqrfplot</a></code>. Note that <code>ggseqrfplot</code>
uses <code><a href="https://patchwork.data-imaginist.com/reference/patchwork-package.html" class="external-link">patchwork</a></code> to combine the different components of
the plot. The function and the documentation draw heavily from
<code><a href="https://rdrr.io/pkg/TraMineR/man/dissrf.html" class="external-link">TraMineR::seqrf</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ggseqrfplot</span><span class="op">(</span></span>
<span>  seqdata <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  diss <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  k <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sortv <span class="op">=</span> <span class="st">"mds"</span>,</span>
<span>  weighted <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  grp.meth <span class="op">=</span> <span class="st">"prop"</span>,</span>
<span>  squared <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  pow <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  seqrfobject <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  border <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  ylab <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  yaxis <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  which.plot <span class="op">=</span> <span class="st">"both"</span>,</span>
<span>  quality <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  box.color <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  box.fill <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  box.alpha <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  outlier.jitter.height <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  outlier.color <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  outlier.fill <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  outlier.shape <span class="op">=</span> <span class="fl">19</span>,</span>
<span>  outlier.size <span class="op">=</span> <span class="fl">1.5</span>,</span>
<span>  outlier.stroke <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  outlier.alpha <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>seqdata</dt>
<dd><p>State sequence object (class <code>stslist</code>) created with the
<code><a href="https://rdrr.io/pkg/TraMineR/man/seqdef.html" class="external-link">TraMineR::seqdef</a></code> function. <code>seqdata</code> is
ignored if <code>seqrfobject</code> is specified.</p></dd>


<dt>diss</dt>
<dd><p>pairwise dissimilarities between sequences in <code>seqdata</code>
(see <code><a href="https://rdrr.io/pkg/TraMineR/man/seqdist.html" class="external-link">TraMineR::seqdist</a></code>). <code>diss</code> is
ignored if <code>seqrfobject</code> is specified.</p></dd>


<dt>k</dt>
<dd><p>integer specifying the number of frequency groups. When <code>NULL</code>,
<code>k</code> is set as the minimum between 100 and the sum of weights over 10.
<code>k</code> is ignored if <code>seqrfobject</code> is specified.</p></dd>


<dt>sortv</dt>
<dd><p>optional sorting vector of length <code>nrow(diss)</code> that may be
used to compute the frequency groups. If <code>NULL</code>, the original data order
is used. If <code>mds</code> (default), the first MDS factor of <code>diss</code>
(<code>diss^2</code> when <code>squared=TRUE</code>) is used. Ties are randomly ordered.
Also allows for the usage of the string inputs:
<code>"from.start"</code> or <code>"from.end"</code> (see <code><a href="ggseqiplot.html">ggseqiplot</a></code>).
<code>sortv</code> is ignored if <code>seqrfobject</code> is specified.</p></dd>


<dt>weighted</dt>
<dd><p>Controls if weights (specified in
<code><a href="https://rdrr.io/pkg/TraMineR/man/seqdef.html" class="external-link">TraMineR::seqdef</a></code>) should be used. Default is
<code>TRUE</code>, i.e. if available weights are used.</p></dd>


<dt>grp.meth</dt>
<dd><p>Character string. One of <code>"prop"</code>, <code>"first"</code>,
and <code>"random"</code>. Grouping method. See details. <code>grp.meth</code> is ignored
if <code>seqrfobject</code> is specified.</p></dd>


<dt>squared</dt>
<dd><p>Logical. Should medoids (and computation of <code>sortv</code> when
applicable) be based on squared dissimilarities? (default is <code>FALSE</code>).
<code>squared</code> is ignored if <code>seqrfobject</code> is specified.</p></dd>


<dt>pow</dt>
<dd><p>Dissimilarity power exponent (typically 1 or 2) for computation of
pseudo R2 and F. When <code>NULL</code>, pow is set as 1 when <code>squared = FALSE</code>,
and as 2 otherwise. <code>pow</code> is ignored if <code>seqrfobject</code> is specified.</p></dd>


<dt>seqrfobject</dt>
<dd><p>object of class <code>seqrf</code> generated with
<code><a href="https://rdrr.io/pkg/TraMineR/man/dissrf.html" class="external-link">TraMineR::seqrf</a></code>. Default is <code>NULL</code>;
either <code>seqrfobject</code> or <code>seqdata</code> and <code>diss</code> have to specified</p></dd>


<dt>border</dt>
<dd><p>if <code>TRUE</code> bars of index plot are plotted with black outline;
default is <code>FALSE</code> (also accepts <code>NULL</code>)</p></dd>


<dt>ylab</dt>
<dd><p>character string specifying title of y-axis. If <code>NULL</code> axis
title is "Frequency group"</p></dd>


<dt>yaxis</dt>
<dd><p>Controls if a y-axis is plotted. When set as <code>TRUE</code>, index
of frequency groups is displayed.</p></dd>


<dt>which.plot</dt>
<dd><p>character string specifying which components of relative
frequency sequence plot should be displayed. Default is <code>"both"</code>. If set
to <code>"medoids"</code> only the index plot of medoids is shown.
If <code>"diss.to.med"</code> only the box plots of the group-specific distances to
the medoids are shown.</p></dd>


<dt>quality</dt>
<dd><p>specifies if representation quality is shown as figure caption;
default is <code>TRUE</code></p></dd>


<dt>box.color</dt>
<dd><p>specifies color of boxplot borders; default is "black</p></dd>


<dt>box.fill</dt>
<dd><p>specifies fill color of boxplots; default is "white"</p></dd>


<dt>box.alpha</dt>
<dd><p>specifies alpha value of boxplot fill color; default is 1</p></dd>


<dt>outlier.jitter.height</dt>
<dd><p>if greater than 0 outliers are jittered vertically.
If greater than .375 height is automatically adjusted to be aligned with the box width.</p></dd>


<dt>outlier.color, outlier.fill, outlier.shape, outlier.size, outlier.stroke, outlier.alpha</dt>
<dd><p>parameters to change the appearance of the outliers. Uses defaults of
<code><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">ggplot2::geom_boxplot</a></code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A relative frequency sequence plot using <code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function renders relative frequency sequence plots using either an internal
call of <code><a href="https://rdrr.io/pkg/TraMineR/man/dissrf.html" class="external-link">TraMineR::seqrf</a></code> or by using an object of
class <code>"seqrf"</code> generated with <code><a href="https://rdrr.io/pkg/TraMineR/man/dissrf.html" class="external-link">TraMineR::seqrf</a></code>.</p>
<p>For further details on the technicalities we refer to the excellent documentation
of <code><a href="https://rdrr.io/pkg/TraMineR/man/dissrf.html" class="external-link">TraMineR::seqrf</a></code>. A detailed account of
relative frequency index plot can be found in the original contribution by
Fasang and Liao (2014)
.</p>
<p><code>ggseqrfplot</code> renders the medoid sequences extracted by
<code><a href="https://rdrr.io/pkg/TraMineR/man/dissrf.html" class="external-link">TraMineR::seqrf</a></code> with an internal call of
<code>ggseqiplot</code>. For the box plot depicting the distances to the medoids
<code>ggseqrfplot</code> uses <code><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></code> and
<code><a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html" class="external-link">geom_jitter</a></code>. The latter is used for plotting the outliers.</p>
<p>Note that <code>ggseqrfplot</code> renders in the box plots analogous to the those
produced by <code><a href="https://rdrr.io/pkg/TraMineR/man/seqplot.html" class="external-link">TraMineR::seqrfplot</a></code>. Actually,
the box plots produced with <code><a href="https://rdrr.io/pkg/TraMineR/man/seqplot.html" class="external-link">TraMineR::seqrfplot</a></code>
and  <code><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">ggplot2::geom_boxplot</a></code>
might slightly differ due to differences in the underlying computations of
<code><a href="https://rdrr.io/r/grDevices/boxplot.stats.html" class="external-link">grDevices::boxplot.stats</a></code> and
<code><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">ggplot2::stat_boxplot</a></code>.</p>
<p>Note that <code>ggseqrfplot</code> uses <code><a href="https://patchwork.data-imaginist.com/reference/patchwork-package.html" class="external-link">patchwork</a></code> to combine
the different components of the plot. If you want to adjust the appearance of
the composed plot, for instance by changing the plot theme, you should consult
the documentation material of <code><a href="https://patchwork.data-imaginist.com/reference/patchwork-package.html" class="external-link">patchwork</a></code>.</p>
<p>At this point <code>ggseqrfplot</code> does not support a grouping option. For
plotting multiple groups, I recommend to produce group specific seqrfobjects or
plots and to arrange them in a common plot using <code><a href="https://patchwork.data-imaginist.com/reference/patchwork-package.html" class="external-link">patchwork</a></code>.
See Example 6 in the vignette for further details:
<code><a href="../articles/ggseqplot.html">vignette("ggseqplot", package = "ggseqplot")</a></code></p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Fasang AE, Liao TF (2014).
“Visualizing Sequences in the Social Sciences: Relative Frequency Sequence Plots.”
<em>Sociological Methods &amp; Research</em>, <b>43</b>(4), 643--676.
<a href="https://doi.org/10.1177/0049124113506563" class="external-link">doi:10.1177/0049124113506563</a>
.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Marcel Raab</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Load additional library for fine-tuning the plots</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://patchwork.data-imaginist.com" class="external-link">patchwork</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># From TraMineR::seqprf</span></span></span>
<span class="r-in"><span><span class="co"># Defining a sequence object with the data in columns 10 to 25</span></span></span>
<span class="r-in"><span><span class="co"># (family status from age 15 to 30) in the biofam data set</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">biofam</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">biofam.lab</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Parent"</span>, <span class="st">"Left"</span>, <span class="st">"Married"</span>, <span class="st">"Left+Marr"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"Child"</span>, <span class="st">"Left+Child"</span>, <span class="st">"Left+Marr+Child"</span>, <span class="st">"Divorced"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Here, we use only 100 cases selected such that all elements</span></span></span>
<span class="r-in"><span><span class="co"># of the alphabet be present.</span></span></span>
<span class="r-in"><span><span class="co"># (More cases and a larger k would be necessary to get a meaningful example.)</span></span></span>
<span class="r-in"><span><span class="va">biofam.seq</span> <span class="op">&lt;-</span> <span class="fu">seqdef</span><span class="op">(</span><span class="va">biofam</span><span class="op">[</span><span class="fl">501</span><span class="op">:</span><span class="fl">600</span>, <span class="fl">10</span><span class="op">:</span><span class="fl">25</span><span class="op">]</span>, labels<span class="op">=</span><span class="va">biofam.lab</span>,</span></span>
<span class="r-in"><span>                     weights<span class="op">=</span><span class="va">biofam</span><span class="op">[</span><span class="fl">501</span><span class="op">:</span><span class="fl">600</span>,<span class="st">"wp00tbgs"</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  [&gt;] 8 distinct states appear in the data: </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>      1 = 0</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>      2 = 1</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>      3 = 2</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>      4 = 3</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>      5 = 4</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>      6 = 5</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>      7 = 6</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>      8 = 7</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  [&gt;] state coding:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>        [alphabet]  [label]  [long label] </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>      1  0           0        Parent</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>      2  1           1        Left</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>      3  2           2        Married</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>      4  3           3        Left+Marr</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>      5  4           4        Child</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>      6  5           5        Left+Child</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>      7  6           6        Left+Marr+Child</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>      8  7           7        Divorced</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  [&gt;] sum of weights: 111.62 - min/max: 0/4.17260217666626</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  [&gt;] 100 sequences in the data set</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  [&gt;] min/max sequence length: 16/16</span>
<span class="r-in"><span><span class="va">diss</span> <span class="op">&lt;-</span> <span class="fu">seqdist</span><span class="op">(</span><span class="va">biofam.seq</span>, method <span class="op">=</span> <span class="st">"LCS"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  [&gt;] 100 sequences with 8 distinct states</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  [&gt;] creating a 'sm' with a substitution cost of 2</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  [&gt;] creating 8x8 substitution-cost matrix using 2 as constant value</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  [&gt;] 76 distinct  sequences </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  [&gt;] min/max sequence lengths: 16/16</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  [&gt;] computing distances using the LCS metric</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  [&gt;] elapsed time: 0.01 secs</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Using 12 groups and default MDS sorting</span></span></span>
<span class="r-in"><span><span class="co"># and original method by Fasang and Liao (2014)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ... with TraMineR::seqrfplot (weights have to be turned off)</span></span></span>
<span class="r-in"><span><span class="fu">seqrfplot</span><span class="op">(</span><span class="va">biofam.seq</span>, weighted <span class="op">=</span> <span class="cn">FALSE</span>, diss <span class="op">=</span> <span class="va">diss</span>, k <span class="op">=</span> <span class="fl">12</span>,</span></span>
<span class="r-in"><span>          grp.meth<span class="op">=</span><span class="st">"first"</span>, which.plot <span class="op">=</span> <span class="st">"both"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  [&gt;] Using k=12 frequency groups with grp.meth='first'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  [&gt;] Pseudo/medoid-based-R2: 0.4620155</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  [&gt;] Pseudo/medoid-based-F statistic: 6.870317, p-value: 3.09994e-08</span>
<span class="r-plt img"><img src="ggseqrfplot-1.png" alt="" width="768" height="474"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ... with ggseqrfplot</span></span></span>
<span class="r-in"><span><span class="fu">ggseqrfplot</span><span class="op">(</span><span class="va">biofam.seq</span>, weighted <span class="op">=</span> <span class="cn">FALSE</span>, diss <span class="op">=</span> <span class="va">diss</span>, k <span class="op">=</span> <span class="fl">12</span>, grp.meth<span class="op">=</span><span class="st">"first"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  [&gt;] Using k=12 frequency groups with grp.meth='first'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  [&gt;] Pseudo/medoid-based-R2: 0.4620155</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  [&gt;] Pseudo/medoid-based-F statistic: 6.870317, p-value: 3.09994e-08</span>
<span class="r-plt img"><img src="ggseqrfplot-2.png" alt="" width="768" height="474"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Arrange sequences by a user specified sorting variable:</span></span></span>
<span class="r-in"><span><span class="co"># time spent in parental home; has ties</span></span></span>
<span class="r-in"><span><span class="va">parentTime</span> <span class="op">&lt;-</span> <span class="fu">seqistatd</span><span class="op">(</span><span class="va">biofam.seq</span><span class="op">)</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  [&gt;] computing state distribution for 100 sequences ...</span>
<span class="r-in"><span><span class="va">b.srf</span> <span class="op">&lt;-</span> <span class="fu">seqrf</span><span class="op">(</span><span class="va">biofam.seq</span>, diss<span class="op">=</span><span class="va">diss</span>, k<span class="op">=</span><span class="fl">12</span>, sortv<span class="op">=</span><span class="va">parentTime</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  [&gt;] Using k=12 frequency groups with grp.meth='prop'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  [&gt;] Pseudo/medoid-based-R2: 0.3064171</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  [&gt;] Pseudo/medoid-based-F statistic: 4.001018, p-value: 7.736543e-05</span>
<span class="r-in"><span><span class="co"># ... with ggseqrfplot (and some extra annotation using patchwork)</span></span></span>
<span class="r-in"><span><span class="fu">ggseqrfplot</span><span class="op">(</span>seqrfobject <span class="op">=</span> <span class="va">b.srf</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://patchwork.data-imaginist.com/reference/plot_annotation.html" class="external-link">plot_annotation</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Sorted by time spent in parental home"</span>,</span></span>
<span class="r-in"><span>                  theme <span class="op">=</span> <span class="fu">theme</span><span class="op">(</span>plot.title <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span>, size <span class="op">=</span> <span class="fl">18</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="ggseqrfplot-3.png" alt="" width="768" height="474"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://marcelraab.de" class="external-link">Marcel Raab</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

